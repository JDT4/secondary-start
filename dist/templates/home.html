<div class="area">
	<h1>Welcome to Council Data</h1>
	<h4>Type in your postcode to learn how your local council spends your money</h4>
	<form novalidate class="postcode-form" ng-submit="findData(postcode)">
		<input type="text" name="post" ng-model="postcode" maxlength="7" style="text-transform:uppercase" />
		<button type="submit">GO!</button>
	</form>
	<div class="loading" ng-show="loading">
		<i class="fa fa-refresh fa-spin fa-3x fa-fw"></i>
		<span class="sr-only">Loading...</span>
	</div>
</div>

<div class="council" ng-repeat="council in councils">
	<h2>{{council.council}} Council</h2>
	<div class="list">
		<div class="listItem" ng-repeat="item in council.data">
			<a class="noLink" ng-click="showDetails = ! showDetails">
				<h3>
					{{item.name}}
				<span ng-show="!showDetails">&#x25BA</span>
				<span ng-show="showDetails">&#x25BC</span>
				</h3>
			</a>
			<div class="item" ng-show="showDetails">
				<p>In its {{item.publication_date| limitTo : 4 : begin}} report <em>{{item.name}}</em>, the TaxPayers' Alliance found that: </p>
				<p>{{item.content}}</p>
				<p><a href="{{item.URL}}">Go to the full report</a></p>
			</div>
		</div>
	</div>
</div>